{"version":3,"sources":["PaChart.js","PaMap.js","Navbar.js","News.js","App.js","serviceWorker.js","index.js"],"names":["PaChart","d3","window","margin","top","right","bottom","left","useState","w","h","size","setSize","confirmed","setConfirmed","date","setDate","useEffect","el","document","querySelector","offsetWidth","handleResize","e","addEventListener","removeEventListener","json","then","data","svg","select","append","attr","updated","cases","filter","c","parseTime","timeParse","xScale","scaleTime","domain","min","d","max","range","yScale","scaleLinear","line","x","y","moveX","call","axisBottom","ticks","tickFormat","timeFormat","axisLeft","format","datum","selectAll","join","tooltips","tippy","querySelectorAll","forEach","i","setContent","r","getAttribute","openTT","on","index","bisect","bisector","mx","invert","bisectMX","mouse","this","hide","show","t","remove","id","className","Date","toDateString","PaMap","topojson","geo","setGeo","s","pa","feature","objects","projection","geoIdentity","path","geoPath","fitSize","scale","scaleLog","features","enter","properties","COUNTY_NAM","state","filtered","item","county","trim","toLowerCase","length","filterConfirmed","nodes","dataset","interpolateReds","tippyInstance","str","toUpperCase","slice","destroy","Navbar","href","target","rel","style","fontSize","lineHeight","transform","marginRight","verticalAlign","News","title","width","height","src","frameBorder","allow","allowFullScreen","App","role","type","data-dismiss","aria-label","aria-hidden","data-height","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.0675b662.chunk.js","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport tippy from 'tippy.js';\n\nconst PaChart = () => {\n  const d3 = window.d3;\n  const margin = {top: 50, right: 50, bottom: 50, left: 50};\n\n  const [size, setSize] = useState({ w: 640, h: 360 });\n  const [confirmed, setConfirmed] = useState();\n  const [date, setDate] = useState();\n\n  useEffect(() => {\n    const el = document.querySelector('#PaChartContainer');\n    setSize({w: el.offsetWidth, h: el.offsetWidth * 0.5625})\n  }, []);\n\n  useEffect(() => {\n    function handleResize (e) {\n      const el = document.querySelector('#PaChartContainer');\n      setSize({w: el.offsetWidth, h: el.offsetWidth * 0.5625})\n    }\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  });\n\n  useEffect(() => {\n    d3.json('data/covid/pa-time-series.json').then((data) => setConfirmed(data));\n  }, [d3]);\n  \n  useEffect(() => {\n    if (confirmed) {\n      const svg = d3.select('#PaChartContainer').append('svg')\n        .attr(\"id\", \"PaChartSvg\")\n        .attr(\"width\", size.w)\n        .attr(\"height\", size.h)\n        .append('g')\n        .attr(\"transform\", \"translate(\" + 0 + \",\" + margin.top /2 + \")\");\n      setDate(confirmed[0].updated);\n      let data = confirmed[0].cases;\n      data = data.filter((c) => c.confirmed > 0);\n      const parseTime = d3.timeParse(\"%m/%d/%Y\");\n      // Dates on X axis\n      const xScale = d3.scaleTime().domain([d3.min(data, (d) => parseTime(d.date)), d3.max(data, (d) => parseTime(d.date))]).range([0, size.w - margin.left]);\n      // Confirmed cases on Y axis\n      const yScale = d3.scaleLinear().domain([0, d3.max(data, (d) => +d.confirmed)]).range([size.h - margin.top, 0]);\n      \n      const line = d3.line()\n        .x((d) => xScale(parseTime(d.date)))\n        .y((d) => yScale(+d.confirmed));\n\n      const moveX = margin.left / 1.75;\n  \n      svg.append(\"g\")\n        .attr(\"class\", \"x axis\")\n        .attr(\"transform\", \"translate(\" + moveX+ \",\" + (size.h - margin.bottom) + \")\")\n        .call(d3.axisBottom(xScale).ticks(10).tickFormat(d3.timeFormat('%b %d')));\n  \n      svg.append(\"g\")\n        .attr(\"class\", \"y axis\")\n        .call(d3.axisLeft(yScale).tickFormat(d3.format('~s')))\n        .attr('transform', `translate(${moveX}, 0)`);;\n\n      svg.append('path')\n        .datum(data)\n        .attr('class', 'line')\n        .attr('d', line)\n        .attr('transform', `translate(${moveX}, 0)`);\n\n      svg.selectAll(\"point\")\n        .data(data)\n        .join(\"circle\")\n          .attr(\"fill\", \"#ffab00\")\n          .attr(\"r\", 3)\n          .attr(\"cx\", (d) => xScale(parseTime(d.date)))\n          .attr(\"cy\", (d) => yScale(+d.confirmed))\n          .attr(\"data-date\", (d) => d.date)\n          .attr(\"data-confirmed\", (d) => d.confirmed)\n          .attr(\"class\", \"point\")\n          .attr('transform', `translate(${moveX}, 0)`);\n\n      const tooltips = tippy(document.querySelectorAll('.point'));\n      tooltips.forEach((i) => i.setContent((r) => `${r.getAttribute('data-date')}: ${r.getAttribute('data-confirmed')}`));\n\n      function bisectMX() {\n        const bisect = d3.bisector(d => parseTime(d.date)).left;\n        return mx => {\n          const date = xScale.invert(mx);\n          const index = bisect(data, date, 1);\n          return index - 1;\n        };\n      }\n\n      let openTT = null;\n\n      d3.select(\"#PaChartContainer\").on('touchmove mousemove', function() {\n        const index = bisectMX()(d3.mouse(this)[0]);\n        if (openTT !== null && openTT !== index) {\n          tooltips[openTT].hide();\n        }\n        tooltips[index].show();\n        openTT = index;\n      });\n\n      d3.select(\"#PaChartContainer\").on(\"touchend mouseleave\", () => {\n        tooltips.forEach((t) => t.hide());\n        openTT = null;\n      });\n\n      return () => d3.select(\"#PaChartSvg\").remove();\n    }\n\n  }, [d3, margin, confirmed, size]);\n\n  return (\n    <div id=\"PaChart\" className=\"card shadow-sm\">\n      <div className=\"card-header\">\n        <div className=\"d-flex justify-content-between align-items-center\">\n          <h2>Confirmed Cases Chart</h2>\n          {/* <a href=\"#\" className=\"text-muted\"><i className=\"bx bx-info-circle bx-sm\" /></a> */}\n        </div>\n        <small><span className=\"font-weight-bold\">Last updated:</span> {date && new Date(date).toDateString()}</small>\n      </div>\n      <div className=\"card-body\">\n        <div id=\"PaChartContainer\" />\n      </div>\n    </div>\n  )\n};\n\nexport default PaChart;\n","import React, {useEffect, useState} from 'react';\nimport tippy from 'tippy.js';\n\nconst PaMap = () => {\n  const d3 = window.d3;\n  const topojson = window.topojson;\n\n  const [size, setSize] = useState({w: 640, h: 360});\n  const [confirmed, setConfirmed] = useState();\n  const [geo, setGeo] = useState();\n  const [date, setDate] = useState();\n\n  useEffect(() => {\n    const el = document.querySelector('#PaMapContainer');\n    setSize((s) => ({w: el.offsetWidth, h: el.offsetWidth * 0.5625}));\n  }, []);\n\n  useEffect(() => {\n    function handleResize (e) {\n      const el = document.querySelector('#PaMapContainer');\n      setSize({w: el.offsetWidth, h: el.offsetWidth * 0.5625});\n    }\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  })\n\n  useEffect(() => {\n    d3.json('data/covid/pa-county-confirmed.json').then((data) => setConfirmed(data));\n    d3.json('data/map/pa-topo.json').then((pa) => setGeo(topojson.feature(pa, pa.objects['pa-albers'])));\n  }, [d3, topojson]);\n\n  useEffect(() => {\n    if (confirmed && geo) {\n      // Create svg element\n      const svg = d3.select(\".card-body\").append(\"svg\")\n        .attr(\"width\", size.w)\n        .attr(\"height\", size.h);\n      const projection = d3.geoIdentity();\n      const path = d3.geoPath(projection.fitSize([size.w, size.h], geo));\n      const scale = d3.scaleLog().domain([1, d3.max(confirmed, (d) => +d.confirmed)]).range([.1, 1]);\n\n      setDate(confirmed[0].updated);\n  \n      // Add counties with data and styling\n      svg.selectAll('.county')\n        .data(geo.features)\n        .enter().append('path')\n          .attr('data-name', (d) => `${d.properties.COUNTY_NAM}`)\n          .attr('data-confirmed', (d) => filterConfirmed(d, confirmed))\n          .attr('class', (d) => `county`)\n          .attr('d', path)\n          .attr('fill', (d, i, nodes) => nodes[i].dataset.confirmed > 0 ? d3.interpolateReds(scale(nodes[i].dataset.confirmed)) : 'rgb(211, 211, 211)');\n      \n      // Tooltips\n      const tippyInstance = tippy(document.querySelectorAll('.county'));\n      tippyInstance.forEach((i) => i.setContent((r) => `${capitalizeFirst(r.getAttribute('data-name'))}: ${r.getAttribute('data-confirmed')}`));\n\n      return () => {\n        svg.remove();\n        tippyInstance.forEach((i) => i.destroy());\n      }\n    }\n  }, [d3, geo, confirmed, size]);\n\n  return (\n    <div id=\"PaMap\" className=\"card shadow-sm\">\n      <div className=\"card-header\">\n        <div className=\"d-flex justify-content-between align-items-center\">\n          <h2>Confirmed Cases Map</h2>\n          {/* <a href=\"#\" className=\"text-muted\"><i className=\"bx bx-info-circle bx-sm\" /></a> */}\n        </div>\n        <small><span className=\"font-weight-bold\">Last updated:</span> {date ? new Date(date).toDateString() : null}</small>\n      </div>\n      <div className=\"card-body\">\n        <div id=\"PaMapContainer\" />\n      </div>\n    </div>\n  );\n}\n\nfunction filterConfirmed (d, state) {\n  const filtered = state.filter(item => item.county.trim().toLowerCase() === d.properties.COUNTY_NAM.trim().toLowerCase());\n  return filtered.length > 0 ? filtered[0].confirmed : 0;\n}\n\nfunction capitalizeFirst (str) {\n  return str[0].toUpperCase() + str.slice(1).toLowerCase();\n} \n\nexport default PaMap;\n","import React from 'react';\n\nconst Navbar = () => (\n  <nav className=\"navbar navbar-expand-lg navbar-light bg-white shadow-sm mb-3\">\n    <a className=\"navbar-brand\" href=\"/\">PA COVID-19 Dashboard</a>\n    <ul className=\"navbar-nav ml-auto\">\n      <li className=\"nav-item\">\n        <a className=\"bmc-button\" target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.buymeacoffee.com/jc190\">\n          {/* <img src=\"https://cdn.buymeacoffee.com/buttons/bmc-new-btn-logo.svg\" alt=\"Buy me a coffee\" /> */}\n          <i className=\"bx bx-coffee-togo\" style={{fontSize: '18px', lineHeight: '24px', transform: 'translateY(-1px)'}} />\n          <span style={{marginRight: \"8px\", fontSize:\"14px !important\", verticalAlign: \"bottom\"}}>Buy me a coffee</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n);\n\nexport default Navbar;\n","import React, {useEffect, useState} from 'react';\n\nconst News = () => {\n  const [size, setSize] = useState({w: 560, h: 315});\n  useEffect(() => {\n    const el = document.querySelector('#YT-Vid-Container');\n    setSize({w: el.offsetWidth, h: el.offsetWidth * 0.5625});\n  }, [])\n  useEffect(() => {\n    function handleResize (e) {\n      const el = document.querySelector('#YT-Vid-Container');\n      setSize({w: el.offsetWidth, h: el.offsetWidth * 0.5625});\n    }\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  });\n  return (\n    <div className=\"card shadow-sm\">\n      <div className=\"card-header\">\n        <h2>Informational Video</h2>\n      </div>\n      <div className=\"card-body\">\n        <div id=\"YT-Vid-Container\"  className=\"d-flex\">\n          <iframe title=\"YT-Info-Video\" width={size.w} height={size.h} src=\"https://www.youtube-nocookie.com/embed/BtN-goy9VOY\" frameBorder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default News;\n","import React from 'react';\nimport PaChart from './PaChart';\nimport PaMap from './PaMap';\nimport Navbar from './Navbar';\nimport News from './News';\n\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\" id=\"App\">\n      <header>\n        <Navbar />\n      </header>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col\">\n            <div className=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\n              <strong>Disclaimer: </strong>\n              <span>This website and its contents herein, including all data, mapping, and analysis is provided to the public strictly for general information purposes only. I do not bear any legal responsibility for any consequence caused by the use of information provided. I strictly prohibit use of this website in commerce or reliance on this website for medical guidance.</span>\n              <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-lg-6\">\n            <PaMap />\n          </div>\n          <div className=\"col-lg-6\">\n            <PaChart />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col col-lg-12 col-xl-4\">\n            <News />\n          </div>\n          <div className=\"col-md-4\">\n            <div className=\"card shadow-sm\">\n              <div className=\"card-header\">\n                <h2>Resources</h2>\n              </div>\n              <div className=\"card-body\">\n                <ul className=\"nav flex-column resource-list\">\n                  <li className=\"nav-item\">\n                    <h3>PA Department of Health</h3>\n                    <a className=\"nav-link\" href=\"https://www.health.pa.gov/topics/disease/coronavirus/Pages/Coronavirus.aspx\">Coronavirus (COVID-19) PA Overview</a>\n                    <a className=\"nav-link\" href=\"https://www.pa.gov/guides/responding-to-covid-19/\">Responding to COVID-19 in Pennsylvania</a>\n                  </li>\n                  <li className=\"nav-item\">\n                    <h3>CDC</h3>\n                    <a className=\"nav-link\" href=\"https://www.cdc.gov/coronavirus/2019-nCoV/index.html\">Coronavirus (COVID-19)</a>\n                  </li>\n                  <li className=\"nav-item\">\n                    <h3>WHO</h3>\n                    <a className=\"nav-link\" href=\"https://www.who.int/emergencies/diseases/novel-coronavirus-2019\">Coronavirus disease (COVID-19) Pandemic</a>\n                  </li>\n                  <li className=\"nav-item\">\n                    <h3>JHU</h3>\n                    <a className=\"nav-link\" href=\"https://coronavirus.jhu.edu/map.html\">Coronavirus COVID-19 Global Cases Map</a>\n                    <a className=\"nav-link\" href=\"https://github.com/CSSEGISandData/COVID-19\">Data Repository by Johns Hopkins CSSE</a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-md-4\">\n            <div className=\"card shadow-sm\">\n              <a className=\"twitter-timeline\" data-height=\"500\" href=\"https://twitter.com/PAHealthDept?ref_src=twsrc%5Etfw\">Tweets by PAHealthDept</a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <footer>\n        <div className=\"container-fluid\">\n          <hr />\n          <div className=\"text-center\">\n            <small className=\"pb-3\">Made by James Calhoun - <a href=\"https://github.com/jc190/pa-covid19-dashboard\">[<i className='bx bxl-github' /> Github]</a> - Stay informed. Stay safe.</small>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/js/bootstrap';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'tippy.js/dist/tippy.css';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}